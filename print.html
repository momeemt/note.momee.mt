<!DOCTYPE HTML>
<html lang="ja" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>note.momee.mt</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">note.momee.mt</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="notemomeemt"><a class="header" href="#notemomeemt">note.momee.mt</a></h1>
<ul>
<li><a href="https://momee.mt">Mutsuha Asada</a>のノート</li>
<li>note.momee.mtの<a href="https://github.com/momeemt/note.momee.mt">リポジトリ</a></li>
<li>X: <a href="https://x.com/mutsuha_asada">@mutsuha_asada</a></li>
<li>GitHub: <a href="https://github.com/momeemt">@momeemt</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="nixpkgs-レビューログ"><a class="header" href="#nixpkgs-レビューログ">nixpkgs レビューログ</a></h1>
<p><a href="https://github.com/NixOS/nixpkgs">NixOS/nixpkgs</a>のレビュー時に見逃していた・気を付けるべき点について記録しておく。</p>
<h2 id="習慣"><a class="header" href="#習慣">習慣</a></h2>
<ul>
<li>できるだけ起床してから30〜60分間はnixpkgsへのレビューに充てる
<ul>
<li>朝の方が当日中に他のレビュワーやコントリビュータからの返信に対応しやすい</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
バージョン更新だけなど、レビューしやすいPRは作業の合間に取り組みたい...
<ul>
<li>まだ<code>nixpkgs-review</code>が実行されていないPRに対して自動で実行しておくツールが欲しい</li>
</ul>
</li>
<li>過去にレビューしたPRの更新や、レビュワーから指摘にはできるだけ優先的に対応する
<ul>
<li>これが苦手なのが課題</li>
</ul>
</li>
</ul>
<h2 id="一般"><a class="header" href="#一般">一般</a></h2>
<ul>
<li>Approveしてから他のレビュワーによって改善点が指摘された場合にはメモしておく</li>
<li>Request Changesを送ってからマージされるまではTodoistに入れて確認するようにする</li>
<li>Approveしてからコミッタにマージされない場合はNixOS Discourseの<a href="https://discourse.nixos.org/t/prs-ready-for-review/3032">prs-ready-for-review</a>に投稿する</li>
<li>Request Changesを送る際にはできるだけ丁寧に改善点について説明する</li>
</ul>
<h2 id="ログ"><a class="header" href="#ログ">ログ</a></h2>
<h3 id="20250610"><a class="header" href="#20250610">2025/06/10</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/415530">ocamlPackages.ancient: init at 0.10.0</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/415510">ocamlPackages.amqp-client: init at 2.3.0</a></li>
</ul>
<h3 id="20250609"><a class="header" href="#20250609">2025/06/09</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/415137">ocamlPackages.kcas: 0.6.1 -&gt; 0.7.0</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/415138">ocamlPackages.{landmarks, landmarks-ppx}: 1.4 -&gt; 1.5</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/415186">ocamlPackages.mmap: 1.1.0 -&gt; 1.2.0</a>
<ul>
<li><code>useDune2</code>は古いので削除</li>
</ul>
</li>
</ul>
<h3 id="20250608"><a class="header" href="#20250608">2025/06/08</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/414913">ocamlPackages.dum: 1.0.1 -&gt; 1.0.3</a>
<ul>
<li><code>substituteInPlace</code>に対するオプション<code>--replace</code>は非推奨になったので、<code>--replace-fail</code>などの<a href="https://nixos.org/manual/nixpkgs/stable/#fun-substitute">オプション</a>を使う。<a href="https://github.com/NixOS/nixpkgs/pull/414913#discussion_r2140294804">ref</a></li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414921">ocamlPackages.eigen: 0.2.0 -&gt; 0.3.3</a></li>
</ul>
<h3 id="20250607"><a class="header" href="#20250607">2025/06/07</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/414541">ocamlPackages.mirage-crypto: 1.2.0 -&gt; 2.0.1</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414639">ocamlPackages.awa: 0.5.1 -&gt; 0.5.2</a></li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/414669">ocamlPackages.benchmark: 1.6 -&gt; 1.7</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414671">ocamlPackages.bitwuzla-cxx: 0.6.1 -&gt; 0.8.0</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414675">ocamlPackages.cow: 2.4.0 -&gt; 2.5.0</a></li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414677">ocamlPackages.directories: 0.5 -&gt; 0.6</a></li>
</ul>
<h3 id="20250606"><a class="header" href="#20250606">2025/06/06</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414532">ocamlPackages.encore: 0.8 -&gt; 0.8.1</a></li>
</ul>
<h3 id="20250605"><a class="header" href="#20250605">2025/06/05</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/414245">ocamlPackages.lua-ml: 0.9.2 -&gt; 0.9.4</a>
<ul>
<li><code>odoc</code>はドキュメント生成のみに必要（<code>with-doc</code>）なので、<code>buildPhase</code>には必要ないことがある</li>
</ul>
</li>
</ul>
<h3 id="20250604"><a class="header" href="#20250604">2025/06/04</a></h3>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/413741">ocamlPackages.wasm: 2.0.1 -&gt; 2.0.2</a>
<ul>
<li>opamパッケージとしてビルドされているが、upstreamがduneプロジェクトの場合には<code>buildDunePackage</code>を用いて書き直した方が良い</li>
</ul>
</li>
<li><input disabled="" type="checkbox" checked=""/>
<a href="https://github.com/NixOS/nixpkgs/pull/413753">ocamlPackages.ffmpeg: 1.2.1 -&gt; 1.2.5</a>
<ul>
<li><code>meta.changelog</code>は、テキスト形式の方が扱いやすいので、<code>https://raw.githubusercontent.com/</code>で指定した方が良い</li>
</ul>
</li>
<li><input disabled="" type="checkbox"/>
<a href="https://github.com/NixOS/nixpkgs/pull/413745">ocamlPackages.xenstore: 2.3.0 -&gt; 2.4.0 (draft)</a>
<ul>
<li>xenstore-toolがバージョンアップによって消されたAPIを使っていて、かつ報告場所がないので困っている、という旨のコメントをOCamlパッケージをメンテナンスしてる方に投げてみた</li>
</ul>
</li>
<li>30分くらいのつもりだったけど2時間経っていた</li>
<li>SATySFi
<ul>
<li><a href="https://github.com/na4zagin3/satyrographos/blob/196244437adaf81d89b3081dd8a26a45e02d1b24/src/satysfi/satysfiDirs.ml#L31-L43">satysfiDirs.ml</a></li>
<li>ここで~/.opam/<ocaml-version>配下のパッケージパスを特定している</li>
<li><code>SATYSFI_RUNTIME</code>を書き換えると出力先を選べる</li>
<li>Pythonスクリプト不要かも。satyrographosに処理を委譲できそう</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="nixosでフォントが読み込めないとき"><a class="header" href="#nixosでフォントが読み込めないとき">NixOSでフォントが読み込めないとき</a></h1>
<p><code>fc-cache -rv</code></p>
<h2 id="詳細"><a class="header" href="#詳細">詳細</a></h2>
<p>uguisu側で修正したnix-configurationsをoshidori側で反映させたらAlacrittyがnerd-fontsを読み込めないと怒ってきた。実際にnvim-treeのアイコンが表示されなくなっていた。
<a href="https://github.com/nix-community/home-manager/issues/6160">nix-community/home-manager #6160</a>を読んだら解決した。
どうやら<code>home-manager switch</code>だけではフォントのリロードが行われないよう。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="フーリエ変換"><a class="header" href="#フーリエ変換">フーリエ変換</a></h1>
<p>時間関数の集合である<strong>時間領域</strong>を、角周波数 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span></span></span></span> の関数の集合である<strong>周波数領域</strong>に変換する写像を<strong>フーリエ変換</strong>と呼ぶ。
信号 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span> のフーリエ変換 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)</span></span></span></span> は次のように定義される。</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3846em;vertical-align:-0.9703em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4143em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">jω</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord">d</span></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathcal" style="margin-right:0.09931em;">F</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)]</span></span></span></span></span></p>
<p>逆に、周波数領域を時間領域に変換する写像を<strong>フーリエ逆変換</strong>と呼び、次のように定義される。</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3846em;vertical-align:-0.9703em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4143em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8747em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">jω</span><span class="mord mathnormal mtight">t</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord">d</span></span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathcal" style="margin-right:0.09931em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)]</span></span></span></span></span></p>
<p>両者を合わせて<strong>フーリエ変換対</strong>と呼ぶ。それを <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇔</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">ω</span><span class="mclose">)</span></span></span></span> と書く。</p>
<h2 id="フーリエ変換の存在"><a class="header" href="#フーリエ変換の存在">フーリエ変換の存在</a></h2>
<p>フーリエ変換が存在する十分条件は、 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span> が有限の不連続点を持ち、かつ可積分（<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2734em;vertical-align:-0.4142em;"></span><span class="mop"><span class="mop op-symbol small-op" style="margin-right:0.19445em;position:relative;top:-0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8593em;"><span style="top:-2.3442em;margin-left:-0.1945em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.2579em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4142em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord text"><span class="mord">d</span></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord">∞</span></span></span></span>）であること。
ステップ関数や三角関数など、これを満たさない関数についても <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">ϵ</span><span class="mord mtight">∣</span><span class="mord mathnormal mtight">t</span><span class="mord mtight">∣</span></span></span></span></span></span></span></span></span></span></span></span> などの減衰項を掛けた式のフーリエ変換を考えて、<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">ϵ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span> の極限を取ると元の関数に「近づける」ことができる。</p>
<h2 id="主要な関数のフーリエ変換対"><a class="header" href="#主要な関数のフーリエ変換対">主要な関数のフーリエ変換対</a></h2>
<h3 id="デルタ関数"><a class="header" href="#デルタ関数">デルタ関数</a></h3>
<p>任意のなめらかな関数<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>に対して、</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.3846em;vertical-align:-0.9703em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4143em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">∞</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">∞</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9703em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord text"><span class="mord">d</span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></p>
<p>を満たすような<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>をデルタ関数という。
デルタ関数は超関数であるが関数ではない。
インパルス信号を表現しており、フーリエ変換すると<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">⇔</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<h3 id="ボックス関数"><a class="header" href="#ボックス関数">ボックス関数</a></h3>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="半導体素子"><a class="header" href="#半導体素子">半導体素子</a></h1>
<ul>
<li>電子回路の基本的な働きは信号の増幅
<ul>
<li>元の信号よりも大きな出力信号を得たい</li>
<li>モチベーションの例
<ul>
<li>ラジオがアンテナで受信した弱い信号を増幅してスピーカーから出力するとき</li>
</ul>
</li>
</ul>
</li>
<li>信号の増幅には<strong>能動素子</strong>が必要
<ul>
<li>抵抗やコンデンサ、コイルなどの受動素子は電気信号を増幅できない</li>
<li>真空管、トランジスタ、FETなど</li>
<li>1960年代以降は半導体技術が発展したことでトランジスタやFETが主流になり、真空管が使われることはあまりない</li>
</ul>
</li>
<li>電気をよく通す物質を<strong>導体</strong>、ほとんど通さない物質を<strong>絶縁体</strong>、中間的な電気伝導度を持つ物質を<strong>半導体</strong>という
<ul>
<li>ゲルマニウムやシリコンは半導体</li>
<li>ダイオード、トランジスタ、FETなどの半導体素子の材料</li>
</ul>
</li>
<li>不純物が含まれない半導体を<strong>真性半導体</strong>という</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="論理回路"><a class="header" href="#論理回路">論理回路</a></h1>
<p>組み合わせ回路と順序回路に分けられる。</p>
<h2 id="組み合わせ回路"><a class="header" href="#組み合わせ回路">組み合わせ回路</a></h2>
<p>現在の入力によって出力が確定する回路で、論理ゲートにより構成される。理想的には入力が確定したら直ちに出力が確定するが、現実には出力までに通過する論理ゲートと配線の遅延の和だけ、遅延する。</p>
<h2 id="順序回路"><a class="header" href="#順序回路">順序回路</a></h2>
<p>現在の入力と、回路内で記憶している状態によって出力が確定する回路。論理ゲート以外に、フリップフロップなどの値を確定できる記憶素子が必要になる。</p>
<p>記憶素子がクロックに合わせて記憶動作を行う<strong>同期回路</strong>と、クロックを持たずデータが生起した時のみ記憶動作を行う<strong>非同期回路</strong>に分かれる。設計がしやすいため、同期回路が普及している。
同期回路では記憶素子としてほとんどの場合においてD-FFを使用する。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="主加法標準形"><a class="header" href="#主加法標準形">主加法標準形</a></h1>
<p>最小項同士の和の形になっている論理式。
真理値表から1を出力する入力変数の組み合わせから論理和を取ることで、簡単に欲しい出力を行う組み合わせ回路を構成することができる。これを<strong>加法標準形設計手法</strong>と呼ぶ。</p>
<h2 id="nandゲートを加法標準形設計手法で設計する"><a class="header" href="#nandゲートを加法標準形設計手法で設計する">NANDゲートを加法標準形設計手法で設計する</a></h2>
<p><img src="hardware/digital-logic/./figs/sop.jpeg" alt="NANDゲートを加法標準形設計手法で設計する" /></p>
<h2 id="問題点"><a class="header" href="#問題点">問題点</a></h2>
<p>加法標準形設計手法で得られた組み合わせ回路は大きすぎる。
実際にNANDゲートはAND回路とNOT回路の2ゲートで構成できるが、上のように大量のゲートを必要とする。
したがって、論理式を簡約してから組み合わせ回路として実装する。</p>
<h2 id="シノニム"><a class="header" href="#シノニム">シノニム</a></h2>
<ul>
<li>canonical Sum-of-Products (SOP)</li>
<li>論理和標準形</li>
<li>選言標準形</li>
<li>Disjunctive normal form (DNF)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="万能ゲート"><a class="header" href="#万能ゲート">万能ゲート</a></h1>
<p>あらゆる組み合わせ回路を構成可能な論理ゲートの組を<strong>万能な論理ゲート</strong>、<strong>万能ゲート</strong>（Universal logic gates）と呼ぶ。</p>
<h2 id="万能ゲートの例"><a class="header" href="#万能ゲートの例">万能ゲートの例</a></h2>
<p><a href="hardware/digital-logic/./sop.html">主加法標準形</a>であったように、加法標準形設計手法であらゆる組み合わせ回路を構成できるので、<code>{AND, OR, NOT}</code>は万能ゲート。
また、<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">¬</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>より、<code>{AND, NOT}</code>も万能ゲート。
さらに、NANDやNORからAND、OR、NOTを構成することができるので、<code>{NAND}</code>と<code>{NOR}</code>も万能ゲート。たとえば<a href="https://www.nand2tetris.org/">nand2tetris</a>が実現できるのは、NANDが万能ゲートであるから。</p>
<h2 id="nandからandornotを導出する"><a class="header" href="#nandからandornotを導出する">NANDからAND、OR、NOTを導出する</a></h2>
<p><img src="hardware/digital-logic/./figs/nand2.jpeg" alt="NANDからAND、OR、NOTを導出する" /></p>
<p>ある回路を構成するゲートの最小個数を求める問題はNP困難（回路最小化問題）。
小さい回路の場合には全探索やパターンマッチによって事前に最小のゲート数を求めることができるが、<code>n</code>入力のブール関数で最小個数を求めることはできず、SATソルバーのようにヒューリスティックに求めるしかない。
<a href="https://seeds.nii.ac.jp/seeds/2022-hirahara#:~:text=%E7%A7%81%E3%81%AF%E5%9B%9E%E8%B7%AF%E6%9C%80%E5%B0%8F%E5%8C%96%E5%95%8F%E9%A1%8C%E3%81%A8%E5%91%BC%E3%81%B0%E3%82%8C%E3%82%8B%E3%80%81%E5%85%A5%E5%8A%9B%E3%81%A8%E3%81%97%E3%81%A6%E4%B8%8E%E3%81%88%E3%82%89%E3%82%8C%E3%81%9F%E3%83%96%E3%83%BC%E3%83%AB%E5%80%A4%E9%96%A2%E6%95%B0%E3%82%92%E8%A8%88%E7%AE%97%E3%81%99%E3%82%8B%E3%82%88%E3%81%86%E3%81%AA%E5%B0%8F%E3%81%95%E3%81%84%E8%AB%96%E7%90%86%E5%9B%9E%E8%B7%AF%E3%82%92%E6%B1%82%E3%82%81%E3%82%8B%E5%95%8F%E9%A1%8C%EF%BC%88%E5%9B%B3%EF%BC%89%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E3%80%81%E6%9C%80%E6%82%AA%E6%99%82%E8%A8%88%E7%AE%97%E9%87%8F%E3%81%A8%E5%B9%B3%E5%9D%87%E6%99%82%E8%A8%88%E7%AE%97%E9%87%8F%E3%81%8C%E3%81%BB%E3%81%A8%E3%82%93%E3%81%A9%E5%90%8C%E3%81%98%E3%81%A7%E3%81%82%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%A4%BA%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82">回路最小化問題は最悪時間計算量と平均時間計算量がほぼ同じ</a>。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="ラッチ"><a class="header" href="#ラッチ">ラッチ</a></h1>
<p>フリップフロップの一種で、Texas Instruments社の規格表ではクロックが変化した時に状態および出力が変化するものを<strong>フリップフロップ</strong>（FF）と呼び、そうでないものを<strong>ラッチ</strong>と呼ぶ。</p>
<h2 id="sˉrˉラッチ"><a class="header" href="#sˉrˉラッチ"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord">S</span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord">R</span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span></span></span></span>ラッチ</a></h2>
<p><img src="hardware/digital-logic/./figs/store-data.jpeg" alt="データの保持" /></p>
<p>NOTゲートを2つ組み合わせることでデータ（Q）を保持できる。
もし<code>Q = H</code>になれば、ずっとそれを維持できる（= データを記憶できる）し、強制的に電圧を落として<code>Q = L</code>にしても同様。
この回路を制御するために、外部から強制的にセット状態・リセット状態に設定するための入力を付けたのが <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord">S</span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord">R</span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">ˉ</span></span></span></span></span></span></span></span></span></span> ラッチ。</p>
<p><img src="hardware/digital-logic/./figs/sr-latch.jpeg" alt="SRラッチ" /></p>
<p>ここで、セットとリセット両方にHを入力したとき、先ほどの回路に帰着する。
<code>S = L</code>にすると強制的に<code>Q = H</code>となり、セット状態になる。また、<code>R = L</code>にすると強制的に<code>Q = L</code>となり、リセット状態になる。
セットとリセット両方にLを入力したとき、 <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> も <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0145em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">Q</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">ˉ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span> もHになってしまうため、<strong>禁止状態</strong>と呼ばれる。単にデータの保持という元の目的に照らせばありえない状態だというだけで、使うこと自体が禁止されているわけではない。</p>
<h2 id="dラッチ"><a class="header" href="#dラッチ">Dラッチ</a></h2>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="d-ff"><a class="header" href="#d-ff">D-FF</a></h1>
<p>1ビットの情報を記憶できる論理回路を<strong>フリップフロップ</strong>という。
D-FFはクロックが立ち上がり（立ち下り）に同期する（立ち上がるか、あるいは立ち下る時に入力を記憶する）。
クロック遷移以外のタイミングで入力が変化しても、記憶は上書きされない。</p>
<h2 id="マスタースレーブ型"><a class="header" href="#マスタースレーブ型">マスタースレーブ型</a></h2>
<h3 id="内部構造"><a class="header" href="#内部構造">内部構造</a></h3>
<p><img src="hardware/digital-logic/./figs/d-ff.jpeg" alt="D-FFの内部構造" /></p>
<p>セレクタはトランスミッションゲート2つとNOTゲート1つによって構成できる。
また、クロックの位相を変える（master側のセレクタとslave側のセレクタに入力するクロックを逆にする）と、上の図では立ち下り時に同期するが、立ち上り時に同期するように変えることができる。
実際の設計では立ち上り同期型を使う機会の方が多い。</p>
<h3 id="制約"><a class="header" href="#制約">制約</a></h3>
<p>D-FFが入力を記憶するために、2つの時間的制約がある。</p>
<ul>
<li>セットアップ時間 (<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord text"><span class="mord">tsu</span></span></span></span></span>)
<ul>
<li>正常に記憶するためにクロックの立ち上がり時刻より前に入力を確定させておかなければならないが、その最小時間</li>
</ul>
</li>
<li>ホールド時間（<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord text"><span class="mord">tsh</span></span></span></span></span>）
<ul>
<li>クロック立ち上がり後に入力を変えてはならない最小時間</li>
</ul>
</li>
</ul>
<p>立ち上がりに同期するD-FFでは、出力が確定するのに入力から取り込まれた値がmasterラッチを通り、立ち上がり時にslave側セレクタによってセレクトされ、2つのNOTゲートを通過した後になる。
slave側セレクタが動作する = 立ち上がる前に、入力がmasterラッチを通過していなければいけない。したがって、そのmasterラッチの伝播遅延分だけセットアップ時間として確保しなければならない。マスタースレーブ型のD-FFのセットアップ時間は、少なくともクロック周期の半分になる。
また、NOTゲートの伝播遅延とセレクタ切り替わり時間の間に入力が変化すると、変化後の値がslaveに記憶されてしまうため、ホールド時間を確保しなければならない。</p>
<h2 id="エッジトリガ型"><a class="header" href="#エッジトリガ型">エッジトリガ型</a></h2>
<h3 id="内部構造-1"><a class="header" href="#内部構造-1">内部構造</a></h3>
<p><img src="hardware/digital-logic/./figs/edge-trigger-d-ff.jpeg" alt="エッジトリガ型D-FFの挙動" /></p>
<p><a href="hardware/digital-logic/./latch.html#s%CB%89r%CB%89%E3%83%A9%E3%83%83%E3%83%81">SRラッチ</a>を使う。
<code>CLK = 0</code>のとき、<code>P1 = H</code>かつ<code>P2 = H</code>であるから、SRラッチは保持状態になり、入力に依らない。
CLKが立ち上がるとき、入力を記憶する。立ち上がり後に入力を変化させても、SRラッチの入力に変化はないので、記憶内容に影響しない。</p>
<p>マスタースレーブ型と異なり、セットアップ時間がクロック半周より短くても機能するので、周波数を大きくしたい場合などはエッジトリガ型のD-FFを用いる。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="vlsi"><a class="header" href="#vlsi">VLSI</a></h1>
<p>超大規模集積回路（Very Large-Scale Integration）のこと。
1つのICの中に数十万〜数百万素子以上のトランジスタを集積した回路を指す。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="mos"><a class="header" href="#mos">MOS</a></h1>
<p>金属、酸化膜、半導体の3層の構造から成る金属酸化膜半導体。
Metal Oxide Semiconductorの略。
また、接合部を1つしか持っていないため低消費電力かつ高集密度で実装できるトランジスタである、電界効果トランジスタ（FET: Field Effect Transistor）と合わせて<strong>MOS-FET</strong>と呼ばれる。
抵抗値の変化により電流の大小を調整する効果がある。</p>
<h2 id="組み合わせ"><a class="header" href="#組み合わせ">組み合わせ</a></h2>
<p>MOS-FETは組み合わせにより<strong>nMOS</strong>（nチャネル型）と<strong>pMOS</strong>（pチャネル型）の2つに分けることができる。</p>
<h3 id="nmos"><a class="header" href="#nmos">nMOS</a></h3>
<ul>
<li>ゲートにHレベルを与えるとONになる</li>
<li>ゲートにLレベルを与えるとOFFになる</li>
</ul>
<h3 id="pmos"><a class="header" href="#pmos">pMOS</a></h3>
<ul>
<li>ゲートにHレベルを与えるとOFFになる</li>
<li>ゲートにLレベルを与えるとONになる</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="vlsiの分類"><a class="header" href="#vlsiの分類">VLSIの分類</a></h1>
<h2 id="pld"><a class="header" href="#pld">PLD</a></h2>
<p>Programmable Logic Deviceの略。
加法標準形の構成要素をあらかじめ並べたもので、交点にスイッチを置くことで結線・断線が後から制御できる。</p>
<p>論理ゲートへの入力信号線のうち、使わなかったものを0か1に固定する。これを<strong>端子処理</strong>という。</p>
<h2 id="fpga"><a class="header" href="#fpga">FPGA</a></h2>
<p>メモリで真理値表（LUT: Look-Up Table）を作り、アドレス線を入力信号線、アドレス値を入力真理値と考え、出力真理値を記憶しておく。</p>
<h2 id="ゲートアレイ"><a class="header" href="#ゲートアレイ">ゲートアレイ</a></h2>
<p>NANDゲートまたはNORゲートの配列があらかじめ用意されており、ゲート間の繋ぎ方を設計する。</p>
<h2 id="スタンダードセル"><a class="header" href="#スタンダードセル">スタンダードセル</a></h2>
<p>論理ゲート、複合ゲート、演算器などの集まりであるセルライブラリから部品を選択して並べて繋げる。</p>
<h2 id="フルカスタム"><a class="header" href="#フルカスタム">フルカスタム</a></h2>
<p>MOS-FETの設計から出発して、ほぼ全ての機能を自由に設計する。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="電気的特性と高速化"><a class="header" href="#電気的特性と高速化">電気的特性と高速化</a></h1>
<p>論理ゲートやコンデンサが持つ電気的特性と、それにより生じる遅延の原因、VLSIにおける高速化の役割分担について。</p>
<h2 id="絶対最大定格と推奨動作条件"><a class="header" href="#絶対最大定格と推奨動作条件">絶対最大定格と推奨動作条件</a></h2>
<p>ICの物理的な制約から超えてはならない電圧や電流、周囲環境の温度などを<strong>絶対最大定格</strong>という。
また、正常に動作することが保証されている範囲を<strong>推奨動作条件</strong>という。</p>
<h2 id="wired-or"><a class="header" href="#wired-or">Wired-OR</a></h2>
<p>論理ゲートの出力同士を直結することを<strong>Wired-OR</strong>という。
CMOS-FETでこれを行うと破損の原因になるため禁止されているが、オープンドレインなどのCMOS以外の回路ではWired-ORを使うこともある。</p>
<h2 id="伝播遅延"><a class="header" href="#伝播遅延">伝播遅延</a></h2>
<p>組み合わせ回路における、入力が確定してから出力が確定するまでの時間遅れを、組み合わせ回路の<strong>伝播遅延</strong>と呼ぶ。
そのうち、制御信号が確定してから出力が確定するまでの時間をセレクタの<strong>スイッチング時間</strong>という。</p>
<p>フリップフロップが入力を取り込んでからそれを出力するまでの時間遅れを、FFの<strong>出力伝播遅延</strong>という。
回路の種類を問わず、真理値が0から1になるまでにかかる時間を<strong>立ち上り時間</strong>、1から0になるまでにかかる時間を<strong>立ち下り時間</strong>という。</p>
<h2 id="寄生容量"><a class="header" href="#寄生容量">寄生容量</a></h2>
<p>電子回路の中に設計者の意図せず発生する静電容量のこと。
FETのゲート端子にできる<strong>ゲート容量</strong>や、ドレイン・電源間、ソース・GND間などに生じる<strong>拡散容量</strong>などがある。
また、FETがONのときのドレイン・ソース間抵抗を<strong>オン抵抗</strong>と呼ぶ。</p>
<h2 id="高速化"><a class="header" href="#高速化">高速化</a></h2>
<p>VLSIの高速化は主に2つに分けられる。
まず、論理ゲートやD-FFの伝播遅延を減らすことで、これは主に半導体物理の役割。
次に、回路構成を工夫してクリティカルパスを短くすることで、これはCSの役割。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="加算器"><a class="header" href="#加算器">加算器</a></h1>
<p>加算器は最も基本的な回路で、減算は2の補数の加算として、乗算は加算の繰り返しで、除算は減算の繰り返しで計算できるので、加算器を高速化することで、四則演算すべてを高速化することができる。</p>
<h2 id="半加算器-half-adder"><a class="header" href="#半加算器-half-adder">半加算器 (half adder)</a></h2>
<p>2進数の加算を行う論理回路で、繰り上がりを考慮せず単に2つの和を求める。</p>
<h2 id="全加算器-full-adder"><a class="header" href="#全加算器-full-adder">全加算器 (full adder)</a></h2>
<p>2進数の加算を行う論理回路で、下の桁からのくり上がりを考慮して3つの和を求める。
CMOSではANDゲートやORゲートを直接実装することは非効率的。XORゲートはトランスミッションゲートとNOTゲートで実装できるので、ANDゲートやORゲートをNANDゲートやNORゲートで置き換えることで実装する。</p>
<h3 id="rc遅延モデルによる全加算器の遅延の計算"><a class="header" href="#rc遅延モデルによる全加算器の遅延の計算">RC遅延モデルによる全加算器の遅延の計算</a></h3>
<p>2入力以上のゲートではRC遅延モデルは煩雑になり計算が難しい。</p>
<h3 id="単位遅延による遅延の計算"><a class="header" href="#単位遅延による遅延の計算">単位遅延による遅延の計算</a></h3>
<p>CMOSゲート1個あたりの伝播遅延を1と仮定する。
ゲートの規模や複雑さによらず遅延は全て同じだとみなすことで、おおよその回路の伝播遅延を求める。</p>
<ul>
<li>XORゲート
<ul>
<li>NOTゲートとトランスミッションゲートから成る</li>
<li>単位遅延は2</li>
</ul>
</li>
<li>出力の遅延は最大でXORゲートを2つ通過するから単位遅延は4</li>
<li>桁上がり出力の遅延はXORゲートとNANDゲート2つを通過するから同じく単位遅延は4</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="桁上げ先見加算器"><a class="header" href="#桁上げ先見加算器">桁上げ先見加算器</a></h1>
<p>各桁の桁上げ入力を全て一斉に計算する加算器。
CLA: Carry-lookagead adder。</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="automatically-repairing-dependency-related-build-breakage"><a class="header" href="#automatically-repairing-dependency-related-build-breakage">Automatically Repairing Dependency-Related Build Breakage</a></h1>
<ul>
<li>論文リンク: <a href="https://ieeexplore.ieee.org/document/8330201">Automatically repairing dependency-related build breakage</a></li>
<li>読んだ日: 2025/06/16</li>
</ul>
<h2 id="何"><a class="header" href="#何">何</a></h2>
<ul>
<li><a href="https://maven.apache.org/">Maven</a>（Javaのビルドツール）の依存関係によるビルドエラーを自動で修復するツールの提案</li>
<li>自動修復のための3戦略
<ul>
<li>バージョン更新</li>
<li>依存性の削除</li>
<li>リポジトリの追加</li>
</ul>
</li>
<li>ツールにより、84のビルドエラーが発生するパッケージのうち、45個（54%）を自動修復できた</li>
</ul>
<p>リサーチクエスチョンを2つ立てている</p>
<ol>
<li>開発者はどうやって依存関係のビルドエラーを直しているのか？</li>
<li>依存関係のビルドエラーを自動修復できるのか？</li>
</ol>
<h2 id="先行研究との比較"><a class="header" href="#先行研究との比較">先行研究との比較</a></h2>
<h2 id="本質的な貢献"><a class="header" href="#本質的な貢献">本質的な貢献</a></h2>
<h2 id="実験方法"><a class="header" href="#実験方法">実験方法</a></h2>
<h2 id="議論"><a class="header" href="#議論">議論</a></h2>
<h2 id="次に読むべき論文"><a class="header" href="#次に読むべき論文">次に読むべき論文</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="assets/fzf.umd.js"></script>
        <script src="assets/elasticlunr.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
